---
title: "Introducción a R"
author: "Miguel Angel Escalante Serrato"
date: "13/11/2014"
output: html_document
---
Adaptado de la clase hecha por Teresa Ortiz ITAM. 
## El ambiente y el lenguaje R
##### ¿Qué es R?
* R es un lenguaje de programación y un ambiente de cómputo estadístico
* R es software libre y de código abierto.

##### ¿Por qué R?
* R funciona en casi todas las plataformas (Mac, Windows, Linux si corre C, corre R).
* R promueve la investigación reproducible.
* R está actualizado gracias a que tiene una activa comunidad. Solo en CRAN hay cerca de 4000 paquetes.
* R se puede combinar con otras herramientas.
* R tiene capacidades gráficas muy sofisticadas.

#### Rstudio
Un ambiente de desarrollo integrado para R: incluye una consola, un editor de texto y un conjunto de herramientas para administrar el espacio de trabajo cuando se 
utiliza R. 

Algunos _shortcuts_ útiles:

**En el editor**  

* command/ctrl + enter: enviar código a la consola  
* ctrl + 2: mover el cursor a la consola

**En la consola**  

* flecha hacia arriba: recuperar comandos pasados  
* ctrl + flecha hacia arriba: búsqueda en los comandos  
* ctrl + 1: mover el cursor al editor  

```{r}
library(ggplot2)
head(diamonds)
str(diamonds)
```
### Subconjuntos.

```{r}
diamonds[1:5, ]
diamonds[diamonds$x == diamonds$y, ]
diamonds[-(1:53929), c("carat", "price")]
```
### Manejo de N/A's
```{r}
5 + NA
NA / 2
sum(c(5, NA))
mean(c(5, NA))
NA < 3
NA == 3
NA == NA
```
### Condicionales con N/A
```{r}
NA == NA
is.na(NA)
```
### Tiene Arreglo
```{r}

sum(c(5, NA), na.rm = TRUE)
mean(c(5, NA), na.rm = TRUE)

```
## Uso y manejo de funciones. 
```{r}
# 1
x <- 5
f <- function(){
  y <- 10
  c(x = x, y = y) 
}
rm(x, f)

# 2
x <- 5
g <- function(){
  x <- 20
  y <- 10
  c(x = x, y = y)
}

# 3
x <- 5
h <- function(){
  y <- 10
  i <- function(){
    z <- 20
    c(x = x, y = y, z = z)
  }
  i() 
}

# 4 ¿qué ocurre si la corremos por segunda vez?
j <- function(){
  if (!exists("a")){
    a <- 5
  } else{
    a <- a + 1 
}
  print(a) 
}
x <- 0
y <- 10

# 5 ¿qué regresa k()? ¿y k()()?
k <- function(){
  x <- 1
  function(){
    y <- 2
    x + y 
  }
}
```

